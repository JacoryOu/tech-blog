<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>联系我 - TechBlog</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="logo-icon">&lt;/&gt;</span>
                <span class="logo-text" id="siteName">TechBlog</span>
            </a>
            
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">首页</a></li>
                <li><a href="posts.html" class="nav-link">文章</a></li>
                <li><a href="about.html" class="nav-link">关于</a></li>
                <li><a href="contact.html" class="nav-link active">联系</a></li>
            </ul>
            
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- 联系区域 -->
    <section class="contact-section">
        <div class="container">
            <div class="section-header">
                <h1 class="page-title" id="pageTitle">联系我</h1>
                <p class="page-description" id="pageSubtitle">有问题或建议？欢迎随时与我联系</p>
            </div>
            
            <div class="contact-grid">
                <!-- 联系信息 -->
                <div class="contact-info">
                    <h2 id="contactHeading">让我们开始对话</h2>
                    <p id="contactDescription">无论是技术交流、合作机会，还是单纯的问候，我都很乐意收到你的消息。</p>
                    
                    <div class="contact-methods" id="contactMethods">
                        <!-- 动态加载联系方式 -->
                    </div>
                </div>
                
                <!-- 联系表单 -->
                <div class="contact-form" id="contactFormContainer">
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name" id="nameLabel">姓名</label>
                            <input type="text" id="name" name="name" placeholder="你的名字" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email" id="emailLabel">邮箱</label>
                            <input type="email" id="email" name="email" placeholder="your@email.com" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="subject" id="subjectLabel">主题</label>
                            <input type="text" id="subject" name="subject" placeholder="消息主题" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="message" id="messageLabel">消息</label>
                            <textarea id="message" name="message" placeholder="写下你的消息..." required></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center;">
                            <span id="submitText">发送消息</span>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="index.html" class="footer-logo">
                        <span class="logo-icon">&lt;/&gt;</span>
                        <span class="logo-text" id="footerSiteName">TechBlog</span>
                    </a>
                    <p class="footer-description" id="footerDescription">
                        记录技术成长的每一步，分享编程的乐趣与思考。
                    </p>
                    <div class="social-links" id="socialLinks">
                        <!-- 动态加载社交链接 -->
                    </div>
                </div>
                
                <div class="footer-links">
                    <h4>快速链接</h4>
                    <ul>
                        <li><a href="index.html">首页</a></li>
                        <li><a href="posts.html">文章</a></li>
                        <li><a href="about.html">关于</a></li>
                        <li><a href="contact.html">联系</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h4>技术标签</h4>
                    <ul>
                        <li><a href="#">React</a></li>
                        <li><a href="#">TypeScript</a></li>
                        <li><a href="#">Node.js</a></li>
                        <li><a href="#">云原生</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p id="copyright">&copy; 2024 TechBlog. All rights reserved.</p>
                <p>Made with <i class="fas fa-heart"></i> and lots of <i class="fas fa-coffee"></i></p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // 加载联系页面配置
        async function loadContactConfig() {
            try {
                const [contactRes, siteRes] = await Promise.all([
                    fetch('content/contact.json'),
                    fetch('content/site.json')
                ]);
                
                const contact = await contactRes.json();
                const site = await siteRes.json();
                
                // 应用站点配置
                if (site.siteName) {
                    document.getElementById('siteName').textContent = site.siteName;
                    document.getElementById('footerSiteName').textContent = site.siteName;
                }
                if (site.siteDescription) {
                    document.getElementById('footerDescription').textContent = site.siteDescription;
                }
                if (site.footer?.copyright) {
                    document.getElementById('copyright').textContent = site.footer.copyright;
                }
                
                // 应用联系页面配置
                if (contact.title) {
                    document.getElementById('pageTitle').textContent = contact.title;
                    document.title = contact.title + ' - ' + (site.siteName || 'TechBlog');
                }
                if (contact.subtitle) {
                    document.getElementById('pageSubtitle').textContent = contact.subtitle;
                }
                if (contact.heading) {
                    document.getElementById('contactHeading').textContent = contact.heading;
                }
                if (contact.description) {
                    document.getElementById('contactDescription').textContent = contact.description;
                }
                
                // 渲染联系方式
                if (contact.contactMethods && contact.contactMethods.length > 0) {
                    const contactMethods = document.getElementById('contactMethods');
                    contactMethods.innerHTML = contact.contactMethods.map(method => `
                        <div class="contact-method">
                            <div class="contact-icon">
                                <i class="${method.icon || 'fas fa-envelope'}"></i>
                            </div>
                            <div>
                                <h4>${method.name}</h4>
                                <p>${method.value}</p>
                            </div>
                        </div>
                    `).join('');
                }
                
                // 应用表单配置
                if (contact.form) {
                    // 是否显示表单
                    if (contact.form.enabled === false) {
                        document.getElementById('contactFormContainer').style.display = 'none';
                    }
                    
                    // 表单标签
                    if (contact.form.nameLabel) {
                        document.getElementById('nameLabel').textContent = contact.form.nameLabel;
                    }
                    if (contact.form.namePlaceholder) {
                        document.getElementById('name').placeholder = contact.form.namePlaceholder;
                    }
                    if (contact.form.emailLabel) {
                        document.getElementById('emailLabel').textContent = contact.form.emailLabel;
                    }
                    if (contact.form.emailPlaceholder) {
                        document.getElementById('email').placeholder = contact.form.emailPlaceholder;
                    }
                    if (contact.form.subjectLabel) {
                        document.getElementById('subjectLabel').textContent = contact.form.subjectLabel;
                    }
                    if (contact.form.subjectPlaceholder) {
                        document.getElementById('subject').placeholder = contact.form.subjectPlaceholder;
                    }
                    if (contact.form.messageLabel) {
                        document.getElementById('messageLabel').textContent = contact.form.messageLabel;
                    }
                    if (contact.form.messagePlaceholder) {
                        document.getElementById('message').placeholder = contact.form.messagePlaceholder;
                    }
                    if (contact.form.submitText) {
                        document.getElementById('submitText').textContent = contact.form.submitText;
                    }
                }
                
                // 渲染社交链接
                if (site.contact) {
                    const socialLinks = document.getElementById('socialLinks');
                    const links = [];
                    if (site.contact.github) {
                        links.push(`<a href="${site.contact.github}" class="social-link" target="_blank"><i class="fab fa-github"></i></a>`);
                    }
                    if (site.contact.twitter) {
                        links.push(`<a href="${site.contact.twitter}" class="social-link" target="_blank"><i class="fab fa-twitter"></i></a>`);
                    }
                    if (site.contact.email) {
                        links.push(`<a href="mailto:${site.contact.email}" class="social-link"><i class="fas fa-envelope"></i></a>`);
                    }
                    if (links.length > 0) {
                        socialLinks.innerHTML = links.join('');
                    }
                }
                
            } catch (error) {
                console.error('加载配置失败:', error);
            }
        }
        
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', loadContactConfig);
        
        // 表单提交处理
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('消息已发送！我们会尽快回复您。');
            this.reset();
        });
    </script>
</body>
</html>
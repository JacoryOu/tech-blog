<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>关于我 - TechBlog</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="logo-icon">&lt;/&gt;</span>
                <span class="logo-text" id="siteName">TechBlog</span>
            </a>
            
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">首页</a></li>
                <li><a href="posts.html" class="nav-link">文章</a></li>
                <li><a href="about.html" class="nav-link active">关于</a></li>
                <li><a href="contact.html" class="nav-link">联系</a></li>
            </ul>
            
            <div class="nav-actions">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- 页面标题 -->
    <header class="page-header">
        <div class="container">
            <h1 class="page-title" id="pageTitle">关于我</h1>
            <p class="page-description" id="pageSubtitle">一个热爱技术的开发者，记录学习与成长</p>
        </div>
    </header>

    <!-- 关于内容 -->
    <section class="about-hero">
        <div class="container">
            <div class="about-avatar">
                <img id="avatar" src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=300&fit=crop" alt="头像">
            </div>
            
            <div class="about-content" id="bioContent">
                <!-- 动态加载个人简介 -->
            </div>
        </div>
    </section>

    <!-- 技能展示 -->
    <section class="tech-stack-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" id="techTitle">技术栈</h2>
                <p class="section-subtitle" id="techSubtitle">我使用的技术和工具</p>
            </div>
            
            <div class="tech-grid" id="techGrid">
                <!-- 动态加载技能 -->
            </div>
        </div>
    </section>

    <!-- 时间线 -->
    <section class="featured-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" id="timelineTitle">我的旅程</h2>
                <p class="section-subtitle" id="timelineSubtitle">技术成长的时间线</p>
            </div>
            
            <div style="max-width: 800px; margin: 0 auto;" id="timelineContainer">
                <!-- 动态加载时间线 -->
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="index.html" class="footer-logo">
                        <span class="logo-icon">&lt;/&gt;</span>
                        <span class="logo-text" id="footerSiteName">TechBlog</span>
                    </a>
                    <p class="footer-description" id="footerDescription">
                        记录技术成长的每一步，分享编程的乐趣与思考。
                    </p>
                    <div class="social-links" id="socialLinks">
                        <!-- 动态加载社交链接 -->
                    </div>
                </div>
                
                <div class="footer-links">
                    <h4>快速链接</h4>
                    <ul>
                        <li><a href="index.html">首页</a></li>
                        <li><a href="posts.html">文章</a></li>
                        <li><a href="about.html">关于</a></li>
                        <li><a href="contact.html">联系</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h4>技术标签</h4>
                    <ul>
                        <li><a href="#">React</a></li>
                        <li><a href="#">TypeScript</a></li>
                        <li><a href="#">Node.js</a></li>
                        <li><a href="#">云原生</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p id="copyright">&copy; 2024 TechBlog. All rights reserved.</p>
                <p>Made with <i class="fas fa-heart"></i> and lots of <i class="fas fa-coffee"></i></p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // 加载关于页面配置
        async function loadAboutConfig() {
            try {
                const [aboutRes, siteRes] = await Promise.all([
                    fetch('content/about.json'),
                    fetch('content/site.json')
                ]);
                
                const about = await aboutRes.json();
                const site = await siteRes.json();
                
                // 应用站点配置
                if (site.siteName) {
                    document.getElementById('siteName').textContent = site.siteName;
                    document.getElementById('footerSiteName').textContent = site.siteName;
                }
                if (site.siteDescription) {
                    document.getElementById('footerDescription').textContent = site.siteDescription;
                }
                if (site.avatar) {
                    document.getElementById('avatar').src = site.avatar;
                }
                if (site.footer?.copyright) {
                    document.getElementById('copyright').textContent = site.footer.copyright;
                }
                
                // 应用关于页面配置
                if (about.title) {
                    document.getElementById('pageTitle').textContent = about.title;
                    document.title = about.title + ' - ' + (site.siteName || 'TechBlog');
                }
                if (about.subtitle) {
                    document.getElementById('pageSubtitle').textContent = about.subtitle;
                }
                if (about.avatar) {
                    document.getElementById('avatar').src = about.avatar;
                }
                
                // 渲染个人简介
                if (about.bio && about.bio.length > 0) {
                    const bioContent = document.getElementById('bioContent');
                    bioContent.innerHTML = about.bio.map(p => `<p>${p}</p>`).join('');
                }
                
                // 渲染技术栈
                if (about.techStack) {
                    document.getElementById('techTitle').textContent = about.techStack.title || '技术栈';
                    document.getElementById('techSubtitle').textContent = about.techStack.subtitle || '我使用的技术和工具';
                    
                    if (about.techStack.skills && about.techStack.skills.length > 0) {
                        const techGrid = document.getElementById('techGrid');
                        techGrid.innerHTML = about.techStack.skills.map(skill => `
                            <div class="tech-card">
                                <div class="tech-icon">
                                    <i class="${skill.icon || 'fas fa-code'}"></i>
                                </div>
                                <h3>${skill.name}</h3>
                                <p>${skill.description}</p>
                            </div>
                        `).join('');
                    }
                }
                
                // 渲染时间线
                if (about.timeline) {
                    document.getElementById('timelineTitle').textContent = about.timeline.title || '我的旅程';
                    document.getElementById('timelineSubtitle').textContent = about.timeline.subtitle || '技术成长的时间线';
                    
                    if (about.timeline.events && about.timeline.events.length > 0) {
                        const timelineContainer = document.getElementById('timelineContainer');
                        timelineContainer.innerHTML = `
                            <div style="border-left: 2px solid var(--primary); padding-left: 2rem; position: relative;">
                                ${about.timeline.events.map((event, index) => `
                                    <div style="margin-bottom: ${index < about.timeline.events.length - 1 ? '2rem' : '0'}; position: relative;">
                                        <div style="position: absolute; left: -2.4rem; width: 12px; height: 12px; background: var(--primary); border-radius: 50%;"></div>
                                        <span style="color: var(--primary); font-weight: 600;">${event.year}</span>
                                        <h3 style="margin: 0.5rem 0;">${event.title}</h3>
                                        <p style="color: var(--text-secondary);">${event.description}</p>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                    }
                }
                
                // 渲染社交链接
                if (site.contact) {
                    const socialLinks = document.getElementById('socialLinks');
                    const links = [];
                    if (site.contact.github) {
                        links.push(`<a href="${site.contact.github}" class="social-link" target="_blank"><i class="fab fa-github"></i></a>`);
                    }
                    if (site.contact.twitter) {
                        links.push(`<a href="${site.contact.twitter}" class="social-link" target="_blank"><i class="fab fa-twitter"></i></a>`);
                    }
                    if (site.contact.email) {
                        links.push(`<a href="mailto:${site.contact.email}" class="social-link"><i class="fas fa-envelope"></i></a>`);
                    }
                    if (links.length > 0) {
                        socialLinks.innerHTML = links.join('');
                    }
                }
                
            } catch (error) {
                console.error('加载配置失败:', error);
            }
        }
        
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', loadAboutConfig);
    </script>
</body>
</html>